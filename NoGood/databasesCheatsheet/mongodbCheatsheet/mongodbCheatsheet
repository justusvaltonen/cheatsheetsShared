
############################################################
## Getting started with MongoDB, assuming OS is UNIX-like ##
############################################################
https://www.digitalocean.com/community/tutorials/how-to-install-mongodb-on-ubuntu-20-04
https://www.digitalocean.com/community/tutorials/how-to-secure-mongodb-on-ubuntu-20-04
https://www.digitalocean.com/community/tutorials/how-to-configure-remote-access-for-mongodb-on-ubuntu-20-04	(1)
https://www.mongodb.com/docs/manual/administration/security-checklist/				--> Not done yet
https://mongoosejs.com/										--> Syntax and man for mongooose (JS-World handling of mongo)
https://www.mongodb.com/docs/
https://www.mongodb.com/developer/products/mongodb/cheat-sheet/


/etc/mongod.conf		--> Config file for mongo server
________________
-- Installing --
----------------

sudo apt install mongodb-org
sudo systemctl start mongod.service
sudo systemctl status mongod.service
sudo systemctl enable mongod
mongo --eval 'db.runCommand({ connectionStatus: 1 })'

-Note that runs on 127.0.0.1:27017 by default

_____________________
-- Harden security --
---------------------
db.createUser(
...{
user: "AdminUser",
... pwd: "StoreStuffHere",
... pwd: passwordPrompt(),
... roles: [ { role: "userAdminAnyDatabase", db: "admin" }, "readWriteAnyDatabase" ]
... }
... )

sudo vim /etc/mongod.conf
--> Add the following line if not already there:
security:
  authorization: enabled
  
sudo systemctl restart mongod

-Next test that security works:
mongo
show dbs
--> You shouldn't see the dbs
exit

mongo -u AdminUser -p --authenticationDatabase admin
show dbs
--> The dbs should be visible again

___________________
-- Remote access --	(1)	--> Not done since MVP
-------------------
Serverside:
sudo lsof -i | grep mongo


______________
-- Commands --
--------------
-Checking Status And basic management:
sudo systemctl status mongod
sudo systemctl stop mongod
sudo systemctl start mongod
sudo systemctl restart mongod
sudo systemctl disable mongod
sudo systemctl enable mongod
--------------------------------------

D)
db						--> Prints current DB name
db.<collection>.drop()				--> Removes the collection and its index definitions.
db.<collection>.estimatedDocumentCount()	--> Shows the estimate of documents in some collection
db.<collection>.getIndexes()			--> Shows "indexes"
db.<collection>.insertMany()			--> Inserting multiple entries.
db.<collection>.find()				--> Shows the content of your currentDB/collection
db.<collection>.remove({})			--> Removes all documents, but not the collection itself and "indexes".
db.dropDatabase()				--> Wipes the whole database

L)
load("myscript.js")				--> Runs a JS file. How and where is unknown

M)
mongo						--> Displays info. Starts your mongo-cli
mongo --host <host-ip> --port <port> -u <user> -p <password>	--> Connects to db that runs somewhere

S)
show collections				--> Shows your collections from current database
show dbs					--> Shows your current DB:s

U)
use <database-name>

________________________________
-- Mongoose specific Commands --
--------------------------------
mongoosejs.com

-When creatig a schema (template) in mongoose, you can have at least type: String, Number (with option min).
-Required field is available in many places. Enum is also a thing. We also have an option called lowercase: true

somejsvarThatIsValidObjectMadeFromClass.save()	--> Migrates the entry to currentDB/collectionNameSpecifiedInSchemaWhenSavingToVariable from JS-World





